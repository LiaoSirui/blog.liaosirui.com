## 交换机基础架构与工作原理

交换机作为二层网络设备，通过 MAC 地址表进行帧转发决策。其核心组件包括：

- ASIC 芯片：专用集成电路，负责硬件级别的数据包处理
- MAC 地址表：存储端口与 MAC 地址的映射关系
- VLAN 表：虚拟局域网配置信息
- 缓存机制：处理网络拥塞和突发流量

## 二层和三层交换机

| 交换机类型 | 二层交换机                                                   | 三层交换机                                                   |
| ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 定义       | 工作于 OSI 模型的第 2 层（数据链路层），故而称为二层交换机   | 工作于 OSI 模型的第 3 层（网络层），是具有部分路由器功能的交换机 |
| 适用范围   | 小型的局域网络                                               | 用于大型的网络间的路由                                       |
| 原理       | 当二层交换机从某个端口收到一个数据包，它会先读取包中的源 MAC 地址，再去读取包中的目的 MAC 地址，并在地址表中查找对应的端口，如表中有和目的 MAC 地址对应的端口，就把数据包直接复制到这个端口上 | 三层交换机是一次路由多次交换，就是第一次进行源到目的的路由，三层交换机会将此数据转到二层，那么下次无论是目的到源还是源到目的都可以进行快速交换 |
| 功能       | 二层交换机基于 MAC 地址访问，只做数据的转发，并且不能配置 IP 地址 | 三层交换机将二层交换技术和三层转发功能结合在一起，也就是说三层交换机在二层交换机的基础上增加了路由功能，可配置不同 vlan 的 IP 地址，vlan 之间可通过三层路由实现不同 vlan 之间通讯 |
| 应用       | 二层交换机主要用于网络接入层和汇聚层                         | 三层交换机主要用于网络核心层，但是也存在少部分三层交换机用于汇聚层的现象 |

