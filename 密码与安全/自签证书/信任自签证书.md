## NodeJS

Nodejs 使用自签证书 `NODE_OPTIONS=--use-openssl-ca`

## Python

Requests

Requests 使用 certifi 包提供的 CA 证书 bundle 作为默认信任源。这个证书 bundle 包含了全球主流 CA 的根证书，确保大多数 HTTPS 连接能够顺利验证

```python
from certifi import where
 

# 返回默认 CA 证书 bundle 路径
def where():
    return certifi.where()
```

可以通过以下代码获取当前环境中 Requests 使用的默认 CA 证书路径：

```python
import requests
from requests.utils import DEFAULT_CA_BUNDLE_PATH
 

print(DEFAULT_CA_BUNDLE_PATH)
```

临时解决方案：禁用证书验证（不推荐）

```python
import requests

# 禁用证书验证（生产环境中禁止使用）
response = requests.get("https://self-signed.badssl.com/", verify=False)

# 禁用 urllib3 的警告
import urllib3


urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)
```

可以在单个请求中通过 verify 参数指定 CA 证书文件路径：

```python
import requests


# 使用自定义 CA 证书验证
response = requests.get(
    "https://internal-server.example.com",
    verify="/path/to/custom-ca.pem"
)
```

对于需要多次请求同一服务器的场景，使用 Session 对象配置 CA 证书

```python
import requests


session = requests.Session()
# 为会话设置自定义 CA 证书
session.verify = "/path/to/custom-ca.pem"

# 后续所有请求将使用此 CA 配置
response1 = session.get("https://internal-server.example.com/api/data")
response2 = session.get("https://internal-server.example.com/api/status")
```

对于需要全局信任自定义 CA 的场景，可以通过设置环境变量 REQUESTS_CA_BUNDLE 或 CURL_CA_BUNDLE 来指定 CA 证书路径：

```bash
# Linux/macOS
export REQUESTS_CA_BUNDLE="/path/to/custom-ca.pem"
 
# Windows (PowerShell)
$env:REQUESTS_CA_BUNDLE = "C:\path\to\custom-ca.pem"
```

建议安装自签证书到操作系统，然后指向 `/etc/ssl/certs/ca-certificates.crt`
