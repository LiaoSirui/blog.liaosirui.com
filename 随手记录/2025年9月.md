- Python 禁用 stdout 缓冲（print 输出延迟）

  ```bash
  python3 -u xxx
  
  -u     : force the stdout and stderr streams to be unbuffered;
           this option has no effect on stdin; also PYTHONUNBUFFERED=x
  ```

- <https://clay-wangzhi.com/cloudnative/troubleshooting/enable-service-links.html>

- <https://kubernetes.p2hp.com/docs/concepts/cluster-administration/system-metrics/>

K8s 指标

Kube-scheduler 指标暴露在 HTTP 端点 `/metrics/resources`

Kubelet 还会在 `/metrics/cadvisor`， `/metrics/resource` 和 `/metrics/probes` 端点中公开度量值。

- <https://www.cnblogs.com/cheyunhua/p/10097611.html> 指标强化

- 指标聚合示例：<https://support.huaweicloud.com/intl/zh-cn/bestpractice-cci2/cci_04_0018.html>

- <https://blog.csdn.net/MaueiceWei999/article/details/88387138> RX 和 TX 最大是 4096，当前值为 256 。队列越大丢包的可能越小，但数据延迟会增加。

<https://docs.amd.com/r/en-US/ug1586-onload-user/EF_RXQ_SIZE>

Combined = 8，说明当前 NIC 网卡会使用 8 个进程处理网络数据。

更改 eth0 网卡 Combined 的值：

```
ethtool -L eth0 combined 8
```

查看队列

```bash
ethtool -x
```

- 丢包排查：<https://www.cnblogs.com/x_wukong/p/9305039.html>

- 存储进阶学习：<https://arthurchiao.art/blog/storage-advanced-notes-1-zh/>

- Mount 挂载和 systemd

```bash
实际上挂载单元的文件名和挂载点是关联的，挂载点路径转换为去掉以一个斜线，所有斜线转成横线
例如它这个/proc/sys/fs/binfmt_misc转成proc-sys-fs-binfmt_misc.mount，注意，mount 单元不能从模版实例化而来， 也不能通过创建软连接的方法给同一个 mount 单元赋予多个别名
```

<https://zhangguanzhang.github.io/2019/01/30/fstab/#>

- Horizon 进阶学习

<https://blog.51cto.com/sparkgo/5478585?cid=2629585&fid=2628825#2629585>

- pg_auto_failover PostgreSQL 高可用方案

<https://github.com/livingdocsIO/dockerfile-postgres>、<https://hub.docker.com/r/livingdocs/postgres>

备用服务器测试

| 测试场景             | 观察                                                         |
| :------------------- | :----------------------------------------------------------- |
| 终止 PostgreSQL 进程 | Pacemaker 将 PostgreSQL 进程恢复到运行状态。应用程序写入数据没有中断。 |
| 停止 PostgreSQL 进程 | Pacemaker 将 PostgreSQL 进程恢复到运行状态。应用程序写入数据没有中断。 |
| 重新启动服务器       | 备用服务器最初被标记为离线状态。服务器重新启动运行后，PostgreSQL 将由 Pacemaker 启动，并且服务器被标记为在线状态。如果启用了隔离，则不会将节点自动添加到集群中。应用程序写入数据没有中断。 |
| 停止 Pacemaker 进程  | 它还将停止 PostgreSQL 进程，并且服务器将被标记为离线状态。应用程序写入数据没有中断。 |

主服务器测试

| 测试场景             | 观察                                                         |
| -------------------- | ------------------------------------------------------------ |
| 终止 PostgreSQL 进程 | Pacemaker 将 PostgreSQL 进程恢复到运行状态。在阈值时间内恢复了主数据库，因此未触发选主。应用程序写入数据中断了大约 26 秒。 |
| 停止 PostgreSQL 进程 | Pacemaker 将 PostgreSQL 进程恢复到运行状态。在阈值时间内恢复了主数据库，因此未触发选主。应用程序写入数据中断了大约 26 秒。 |
| 重新启动服务器       | 在主服务器不可用的阈值时间后，Pacemaker 触发了选主。最符合条件的备用服务器被提升为新的主服务器。旧的主服务器重新启动运行后，它将被作为备用服务器添加回集群中。如果启用了隔离，则不会将节点自动添加到集群中。应用程序写入数据中断了大约 26 秒。 |
|                      |                                                              |

网络隔离测试

| 测试场景                                         | 观察                                                         |
| ------------------------------------------------ | ------------------------------------------------------------ |
| 将备用服务器与其他服务器之间的网络隔离           | Corosync 通信在备用服务器上被阻止了。服务器被标记为离线状态，并且 PostgreSQL 服务由于仲裁策略而关闭。应用程序写入数据没有出现中断。 |
| 将主服务器与其他服务器之间的网络隔离（脑裂场景） | Corosync 通信在主服务器上被阻止了。由于仲裁策略，PostgreSQL 服务已关闭，主服务器被标记为离线状态。在大范围的选区内选举了一个新的主服务器。应用程序写入数据出现了中断。 |

其他测试

| 测试场景                                                     | 观察                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 通过关闭所有备用服务器来退化集群。                           | 当所有备用服务器都宕机时，由于仲裁策略，主服务器上的 PostgreSQL 服务会停止。在此测试之后，当所有备用服务器都恢复运行后，会选择一个新的主服务器。应用程序写入数据出现了中断。 |
| 从主服务器开始，一个接一个地随机关闭所有服务器，然后同时将它们全部运行起来 | 所有服务器都启动并加入集群。选举了新的主服务器。应用程序写入数据出现了中断。 |

- Alibaba Linux 内核：<https://help.aliyun.com/zh/alinux/user-guide/overview-of-kernel-features-and-interfaces?spm=a2c4g.11186623.help-menu-2632541.d_2_1_0.53556006LIL4FC>

- Outlook 修改过期用户密码：<https://blog.51cto.com/u_471117/701825>
- AD 域过期邮件提醒：<https://blog.51cto.com/u_13572654/2388743>

- <https://developer.aliyun.com/article/467779> OWA
- Exchange Server <https://blog.csdn.net/zhaowei198311/article/details/107391577>

<https://www.xiaobei.us/archives/775.html>

<https://www.51azure.cloud/post/2022/4/14/exchange-2019-owa>

进入OWA路径 C:\Program Files\Microsoft\Exchange Server\V15\FrontEnd\HttpProxy\owa\auth，拷贝ExpiredPassword.aspx，将其副本修改为ChangePassword.aspx，打开ChangePassword.aspx，修改其中的form action内容：

修改logon.aspx， 增加修改密码按钮：

其中的 `src=“./15.2.858”` 需要与你的exchange server的版本和路径匹配。

```markup
&nbsp;&nbsp;<img class="imgLnk" src="./15.2.858/themes/resources/Sign_in_arrow.png" alt="">
<span class="signinTxt" style="cursor:pointer" onclick="javascript:window.location.href='./ChangePassword.aspx'">更改密码</span>
```

安装需求：<https://learn.microsoft.com/zh-cn/exchange/plan-and-deploy/system-requirements>

- MacOS 终端字体 

```bash
brew tap homebrew/cask-fonts
brew cask install font-hack-nerd-font
```

- MacOS 修改主机名：<https://blog.csdn.net/u010953692/article/details/82845619>

- K8s 卷快照技术：<https://blog.csdn.net/weixin_42063352/article/details/134320861>
- <https://www.cnblogs.com/layzer/articles/nfs-csi-use.html>

- Ceph 配置：<https://blog.csdn.net/weixin_42795092/article/details/151834530>

- CPU 隔离：<https://www.infoq.cn/article/7xv3aftvsglcjyzf6vjq>

- 超线程干扰：<https://www.cnblogs.com/tencent-cloud-native/p/14754230.html>

- 定时器中断：<https://zhuanlan.zhihu.com/p/492134394>
- CPU 布局及自动隔离调优：<https://docs.redhat.com/zh-cn/documentation/red_hat_enterprise_linux_for_real_time/9/html/optimizing_rhel_9_for_real_time_for_low_latency_operation/assembly_isolating-cpus-using-tuned-profiles-realtime_optimizing-rhel9-for-real-time-for-low-latency-operation>

```bash
lstopo-no-graphics --no-io --no-legend --of txt
```

- <https://developer.aliyun.com/article/882173>
- 数学概念：访射 <https://blog.csdn.net/sdnuwjw/article/details/88966418>

- menuconfig <https://www.cnblogs.com/chorm590/p/13977818.html>

- RCU：<https://www.zhihu.com/question/596612323>，RCU的全称是read-copy-update。与读写锁相比，RCU允许多个线程同时读，同时允许同一个时刻一个线程进行写操作。
